# DOCS_STRUCTURE — ドキュメント構成ポリシー

この文書は、本リポジトリ内のドキュメント（`docs/` 配下）をどのような方針で構成し、どこに何を書けばよいかを整理するためのガイドです。

## 1. 目的
- 開発者とコーディングエージェントが、必要な情報に素早く辿り着けるようにする。
- 「設計思想」「仕様」「運用ルール」などの役割を分け、重複や散在を減らす。

## 2. ディレクトリ構成の方針
- `docs/ARCHITECTURE.md`
  - アーキテクチャ全体像とレイヤ構造、依存方向、設計上の判断を記述。
- `docs/NAMING.md`
  - 命名規約（コード/データ/アセットなど）を記述。
- `docs/COMMENT_STYLE.md`
  - GoDoc などコメントスタイルのルール。
- `docs/API.md`
  - 外部から見た API の仕様（必要に応じて拡張）。
- `docs/DB_NOTES.md`
  - DB や永続化に関するメモ・移行方針。
- `docs/AI_OPERATIONS.md`
  - Codex/Vibe など AI 連携や自動化の内部メモ。
- `docs/workflow/`
  - ストーリー運用/ローカル開発/CI など、開発プロセス・ワークフロー。
- `docs/specs/`
  - 実装に直結する仕様（system/ui 等）を集約する「仕様ハブ」。

## 3. specs ディレクトリの扱い
- パス: `docs/specs/`
- 役割: 実装やテストの根拠となる仕様（Specification）の集約場所。
- 人間の開発者とコーディングエージェントが共通で参照する「仕様本文」を置く。
- エージェント向けの読み方・優先順位は `docs/specs/AGENTS.md` に分離して記述。

### 3.1 構成
- `docs/specs/system/`: システム仕様（ユースケース/振る舞い/データフロー 等）。
- `docs/specs/ui/`: 画面仕様（レイアウト/表示内容/入力と挙動/遷移 等）。
- 将来的に `domain/`, `api/` などを追加する場合は、本ドキュメントを先に更新してからディレクトリを作成する。

### 3.2 テンプレート
- `docs/specs/system/_TEMPLATE.md`: システム仕様のテンプレート。
- `docs/specs/ui/_TEMPLATE.md`: 画面仕様のテンプレート。

仕様を新規に書く場合は、いずれかのテンプレートをコピーして作成します。

## 4. 人間/エージェント向けの入口
- 開発者/エージェント共通の最初の入口: `AGENTS.md`
  - リポジトリ全体のクイックリンクと運用ルールを記載。
- 仕様関連の入口:
  - 仕様ハブ: `docs/specs/README.md`
  - エージェント向け仕様ガイド: `docs/specs/AGENTS.md`

## 5. 運用ルール
- 仕様が先: 振る舞いを変える場合は、原則として先に `docs/specs/` の該当仕様を更新し、その後にコードを変更する。
- ドキュメントの重複を避ける:
  - 設計思想やレイヤ構造は `ARCHITECTURE.md`。
  - 実装に直結する振る舞いは `specs/`。
  - ワークフローやストーリー運用は `docs/workflow/`。
- 大きな構成変更を行う場合は、ストーリーを切り、本ドキュメントと関連する specs/README/AGENTS をセットで更新する。

## 6. 今後の拡張
- プロジェクトの拡大に合わせて、specs 配下のカテゴリやテンプレートを拡張する。
- 必要に応じて、ドキュメント自体の索引（インデックス）や「まず読むべき順番」を追記する。

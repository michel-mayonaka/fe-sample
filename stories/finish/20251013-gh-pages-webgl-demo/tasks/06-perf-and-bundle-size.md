# 06 パフォーマンスとサイズ予算

ステータス: [進行中]

## 目的
初回起動体験の悪化を防ぐため、基本的な最適化と予算を設定する。

## 予算（初期案）
- WASM 本体: ≤ 20 MB（圧縮前）
- 初回描画まで: ≤ 10 秒（平均回線）

## 手順
1) `-ldflags "-s -w"` で不要シンボルを削減。
2) 不要アセット削除・軽量化（画像/音源）。
3) 遅延ロードできるものは後回しに。

## 成功条件（DoD）
- 予算を満たす計測結果を記録（スクリーンショット可）。

## 実測と対策（2025-10-13）
- `ui_sample.wasm`: 約 21.5 MB（目標をやや超過）。`-ldflags "-s -w"` は適用済み。
- `site/` 総量: 約 27 MB（画像含む）。

対策案:
- 画像コピーを最小化（`assets/01_iris.png` のみ配布）→ サイト総量 ≈ 22.8 MB まで削減見込み。
- さらに不要シンボルの確認（`-gcflags=all=-l` は逆効果のため不採用）。
- CDN 側の圧縮（gzip/br）はホスティング依存のため前提にしない。

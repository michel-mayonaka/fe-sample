# [story] pkg/game の可視性見直し（internal 移行の是非判断）

ステータス: [完了]
担当: @tkg-engineer
開始: 2025-09-29 00:00:00 +0900
参照: README.md, docs/ARCHITECTURE.md

## 背景
`pkg/game` は「ドメインロジック（テスト対象）」として公開可能層に置かれている。外部再利用性/安定APIの要件を再確認し、`internal` への移行是非を判断する。

## 目的
- 可視性方針を明文化し、将来のモジュール分割や再利用に備える。

## スコープ
- 再利用要件・外部公開の必要性の棚卸し。
- 移行案の比較: 維持（`pkg/game`） vs 移行（`internal/domain` 等へ）
- スパイク: 仮の外部モジュール/別バイナリから `pkg/game` を import できるか検証。

## 非スコープ
- 実際の大規模リネーム/移動（判断後、別ストーリーで実施）。

## 成果物 / DoD
- 方針決定ドキュメント（Pros/Cons/判断基準/影響評価）がレポジトリに追加。
- もし「維持」なら将来指針（公開APIの安定化・テストポリシー）を明記。
- もし「移行前提」なら移行計画（段階・影響調査・リスク）を付属。

## 影響範囲
- `pkg/game/*`、依存する `internal/*` のビルド/テスト

## リスクと対策
- リスク: 可視性変更に伴う import 断裂。
  - 対策: 移行前には deprecation 期間を設け、別ストーリーで段階適用。

## 計測/検証
- スパイク結果（外部からの import/ビルド可否）、`make mcp` 成功。

## 次アクション（タスク化方針）
- 01_再利用要件ヒアリング
- 02_インポート実態の棚卸し
- 03_比較表と判断案作成
- 04_スパイク実施
- 05_最終決定とドキュメント化

## 進捗・メモ
- 2025-11-17 12:00:00 +0900: ストーリー作業を[進行中]として再開。`pkg/game` の再利用要件整理とインポート棚卸しタスクに着手。
- 2025-11-17 01:50:00 +0900: ストーリー再開。`docs/ARCHITECTURE.md` および `AGENTS.md` で `pkg/game` を「ドメインロジック（テスト対象）」として公開層に置く方針が明記されていることを確認。現時点では `internal` への移行は行わず、公開パッケージとしての役割とテスト容易性を維持する前提で検討を継続する。
- 2025-11-17 01:50:00 +0900: インポート実態としては `internal/usecase` や `internal/game/scenes` から `ui_sample/pkg/game` を参照しているのみで、外部モジュールからの利用はまだ無いことを確認。次セッション以降で再利用要件と外部公開の必要性を棚卸しし、維持/移行の比較表を作成する。
- 2025-11-17 02:00:46 +0900: README とサブタスクを整備し、可視性方針検討の下準備が整ったためステータスを[準備完了]へ更新。

- 2025-11-17 02:22:31 +0900: アーカイブ（finish へ移動）

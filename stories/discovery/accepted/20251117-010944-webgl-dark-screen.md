# discovery: WebGLビルドが暗転したままになる不具合調査

ステータス: [promoted]
担当: @kyosuke_tsubo
開始: 2025-11-17 01:09:44 +0900
優先度: P1
提案元: branch=master
関連ストーリー: N/A

## 目的
- GitHub Actions で生成した WebGL ビルド（gh-pages 等）をブラウザで実行した際、画面が暗転したまま進行しない不具合の原因を特定し、必要なら再発防止策まで含めて整理する。

## 背景
- ローカル（デスクトップビルド）では正常に動くのに、Actions で生成した WebGL アーティファクトを開くと真っ暗なまま、ログやエラーも分かりづらいケースがある。
- Ebiten/WebGL 特有の制約（初回ユーザ操作必須、コンテキストロスト、Canvas サイズ/スケール、CORS や asset パスなど）が絡むと、原因切り分けが面倒になるため、一度きちんと調査メモを残しておきたい。

## DoD候補
- [ ] 現象が再現できる URL/ビルド手順（例: 対象 Actions run / gh-pages URL）がメモされている。
- [ ] ブラウザコンソール/Network/Canvas 関連ログから、暗転の直接原因（例: panic, JS エラー, asset 読み込み失敗, WebGL コンテキストエラーなど）が特定されている。
- [ ] 原因ごとの対策案（設定変更・コード側のガード・デバッグログ追加・Actions ワークフロー調整など）が整理され、必要であれば Backlog or Story に派生タスクとして切り出されている。

## 関連
- .github/workflows/*（WebGL ビルド関連）
- web/index.html や WebGL 用エントリポイント

## 進捗ログ
- 2025-11-17 01:09:44 +0900: 起票

- 2025-11-17 01:10:23 +0900: Backlog へ昇格（優先度=P1）

# 20251119-story-work-categories — ストーリー作業カテゴリ体系の設計

ステータス: [準備完了]
担当: @tkg-engineer
開始: 2025-11-19 02:19:57 +0900

## 目的・背景
- stories/finish 配下の完了ストーリーには、仕様策定/調査/実装/ドキュメント整備/CI・ワークフロー改善など性質の異なる作業が混在しており、一覧から「どんな種類の作業か」が一目では分かりにくい。
- ストーリーディレクトリ名や Backlog から作業カテゴリが分かるようにし、レビュー観点・優先度・担当アサインの判断をしやすくしたい。
- 作業カテゴリごとに注意点やアンチパターンをナレッジ化することで、ストーリー設計時の抜け・ブレを減らす。

## スコープ（成果）
- stories/finish 配下のストーリーを一通り眺めた上で、以下を含む作業カテゴリ案を整理する:
  - 仕様策定/設計レビュー系（例: 画面仕様・アーキテクチャ方針）
  - リファクタ調査/影響調査・スパイク系
  - 機能実装/リファクタ実装系
  - ドキュメント/ナレッジ整備系
  - CI/ビルド/開発環境・ワークフロー改善系
  - 上記以外に必要と判断したカテゴリ（例: データ移行・一時検証など）
- 作業カテゴリごとに、ストーリーディレクトリのスラグ先頭に付与する prefix ルール案を定義する（例: `spec-...`/`research-...`/`impl-...`/`docs-...`/`workflow-...`）。
- 作業カテゴリごとに、想定スコープ・DoD の観点・注意点（例: 仕様策定なら「実装に踏み込みすぎない」、実装なら「DoD に mcp/テストを必ず含める」など）を整理し、ナレッジドキュメント案（`docs/workflows/story_categories.md` など）として構成を決める。
- 既存ドキュメント（`docs/workflows/stories.md`, `AGENTS.md` 等）に、作業カテゴリと prefix 運用の簡単な説明・参照リンクを追加する方針案をまとめる。
- 既存ストーリーに対する適用方針（新規ストーリーのみ prefix 必須とするか、過去ストーリーを段階的にリネームするか等）の案を整理し、別ストーリー/Backlog として切り出す。

## 受け入れ基準（Definition of Done）
- [ ] stories/finish 配下の代表的なストーリーを踏まえた作業カテゴリ一覧があり、各カテゴリの日本語説明と例が整理されている。
- [ ] ストーリーディレクトリ名の prefix ルール（`YYYYMMDD-<category>-<slug>` 形式で、`<category>` は限定された集合から選ぶ）が文章として定義されている。
- [ ] 作業カテゴリごとの注意事項・推奨 DoD 観点をまとめたナレッジドキュメント案（章立て・項目）があり、配置場所（例: `docs/workflows/story_categories.md`）が決まっている。
- [ ] `docs/workflows/stories.md` や `AGENTS.md` 等に、作業カテゴリと prefix 運用への言及を追加する方針が整理されている（どこに何を書くかが決まっている）。
- [ ] Backlog `ストーリーに作業カテゴリの追加` と本ストーリー、該当 discovery (`stories/discovery/accepted/20251119-020924-story-work-categories.md`) の相互リンク状況が整理されている（必要なら後続ストーリー/Backlog も作成）。

## 工程（サブタスク）
- [ ] 01_完了ストーリーの棚卸しとカテゴリ候補抽出 — `stories/20251119-story-work-categories/tasks/01_audit-finished-stories.md`
- [ ] 02_作業カテゴリ/プレフィックス体系の設計 — `stories/20251119-story-work-categories/tasks/02_design-work-categories.md`
- [ ] 03_docs/AGENTS 反映方針とナレッジ構成案の整理 — `stories/20251119-story-work-categories/tasks/03_docs-and-guidelines.md`

## 計画（目安）
- 見積: 1〜2 セッション（棚卸し1 / 設計+docs案1）
- マイルストン: M1: 完了ストーリー棚卸し / M2: カテゴリ・prefix 案合意 / M3: docs/AGENTS 反映方針とナレッジ構成案整理

## 進捗・決定事項（ログ）
- 2025-11-19 02:19:57 +0900: ストーリー作成（Backlog: ストーリーに作業カテゴリの追加 から昇格）
 - 2025-11-19 02:24:54 +0900: README とサブタスク構成を整備し、作業カテゴリ体系設計の下準備が整ったためステータスを[準備完了]へ更新。

## リスク・懸念
- 作業カテゴリが細かくなりすぎると、かえって分類や運用が煩雑になるリスク。
- 既存ストーリー名のリネーム方針を誤ると、履歴/リンクの追跡が困難になる可能性があるため、移行計画を別ストーリーで慎重に設計する必要がある。

## 関連
- PR: #
- Issue: #
- Docs: `docs/workflows/stories.md`, `docs/workflows/story_categories.md`（新設案）, `AGENTS.md`
- Discovery: `stories/discovery/accepted/20251119-020924-story-work-categories.md`
